<div class="w-auto">
  <div class="m-0 px-6 py-2 bg-blue-300 flex justify-between items-center">
    <h2 style="margin: 0px" class="text-white font-extrabold">Add Items</h2>
    <mat-icon matDialogClose matTooltip="Close" class="cursor-pointer">close</mat-icon>
  </div>

  <div class="mt-3 pl-3 pr-3" style="max-height: 440px; overflow-y: auto;">
    <form [formGroup]="itemsForm">
      <div formArrayName="itemsArray">
        <div *ngFor="let item of itemsArray.controls; let idx = index" [formGroupName]="idx"
          class="flex gap-2 items-center flex-wrap pb-3 relative shadow-lg p-5 m-2">

          <div class="flex flex-1 gap-2">
            <input type="text" class="px-3 h-8 focus:outline-none rounded-xl border-2 flex-1 border-gray-300"
              placeholder="Item Name" formControlName="name" />

            <input type="text"
              class="priority-margin px-3 h-8 focus:outline-none rounded-xl border-2 border-gray-300 flex-1"
              placeholder="Priority E.x-(Low, Medium, High)" formControlName="priority" />
          </div>

          <div class="flex flex-1 gap-2">

            <input type="date" id="dateInput"
              class="px-3 h-8 focus:outline-none rounded-xl border-2 flex-1 border-gray-300"
              placeholder="Dead Line Date" formControlName="name" />

            <input type="text"
              class="priority-margin px-3 h-8 focus:outline-none rounded-xl border-2 border-gray-300 flex-1"
              placeholder="Priority E.x-(Low, Medium, High)" formControlName="priority" />
          </div>

          <div class="flex flex-1 gap-2">
            <input type="text" class="px-3 h-8 focus:outline-none rounded-xl border-2 flex-1 border-gray-300"
              placeholder="Item Name" formControlName="name" />
          </div>

          <!-- <button type="button" (click)="deleteFormControl(idx)"><span
              class="material-icons text-lg text-red-600 absolute top-2 right-2">remove</span></button> -->
        </div>
      </div>
    </form>
  </div>

  <!-- Submitting Button -->
  <mat-dialog-actions align="end" class="gap-2 dialog-buttons">
    <button
      class="p-2 px-8 text-white bg-blue-500 hover:bg-blue-600 active:bg-blue-700 focus:outline-none focus:ring focus:ring-blue-100"
      style="border-radius: 10px" (click)="addFormControl()">Add Item</button>
    <button
      class="p-2 px-8 text-white bg-green-500 hover:bg-green-600 active:bg-green-700 focus:outline-none focus:ring focus:ring-green-100"
      style="border-radius: 10px" (click)="saveList()">
      <ng-container *ngIf="!(submitting$$ | async)">Save List</ng-container>
      <mat-spinner *ngIf="submitting$$ | async" [diameter]="22" class="m-1"></mat-spinner>
    </button>
  </mat-dialog-actions>
</div>