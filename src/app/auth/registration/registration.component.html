<div class="box" id="ball1"></div>
<div class="box" id="ball2"></div>
<div class="box" id="ball3"></div>
<div class="box" id="ball4"></div>
<div class="w-screen h-full flex items-center justify-center p-4 outer-div">
    <div class="w-full sm:w-1/2 lg:w-1/3">
        <form [formGroup]="registerForm" (ngSubmit)="registerUser()" class="flex flex-col items-center gap-2">

            <!-- Heading -->
            <header class="mb-4">
                <span class="text-4xl underline decoration-wavy text-white underline-offset text-font">TO DO APP</span>
            </header>

            <!-- Form Fields -->
            <div class="w-full flex flex-col gap-6 main-div">

                <!-- User Name -->
                <mat-form-field>
                    <input matInput required formControlName="username" autocomplete="off" class="bg-white"
                        placeholder="Enter your name here!" />
                    <mat-error *ngIf="registerForm.get('username')?.hasError('required')" class="text-white">Username is
                        required</mat-error>
                </mat-form-field>

                <!-- Email -->
                <mat-form-field>
                    <input matInput required formControlName="email" autocomplete="off"
                        placeholder="Enter your email here!" />
                    <mat-error *ngIf="registerForm.get('email')?.hasError('required')" class="text-white">Useremail is
                        required</mat-error>
                </mat-form-field>

                <!-- Password -->
                <mat-form-field>
                    <input #password matInput required formControlName="password"
                        placeholder="Enter your password here!" [type]="'password'" autocomplete="off" />
                    <span
                        class="material-icons absolute text-sm mr-1 top-1/3 -ml-6 cursor-pointer hover:text-primary opacity-75"
                        (click)="password.type = password.type === 'text' ? 'password' : 'text'">
                        {{ password.type === 'password' ? 'visibility' : 'visibility_off' }}
                    </span>

                    <mat-error *ngIf="registerForm.get('password')?.hasError('required')" class="text-white">Password is
                        required</mat-error>
                </mat-form-field>

                <!--Confirm Password -->
                <mat-form-field>
                    <input #confirmPassword matInput required formControlName="confirmPassword"
                        placeholder="Enter your confirm password here!" [type]="'password'" autocomplete="off" />
                    <span
                        class="material-icons absolute text-sm mr-1 top-1/3 -ml-6 cursor-pointer hover:text-primary opacity-75"
                        (click)="confirmPassword.type = confirmPassword.type === 'text' ? 'password' : 'text'">
                        {{ confirmPassword.type === 'password' ? 'visibility' : 'visibility_off' }}
                    </span>

                    <mat-error *ngIf="registerForm.get('password')?.hasError('required')" class="text-white">Confirm
                        Password is
                        required</mat-error>
                </mat-form-field>

            </div>

            <div class="mt-4 pb-2 font-medium flex justify-center w-full text-white">
                <div>
                    Have already an account? <a [routerLink]="['/','auth','login']">
                        <span class="text-blue-300 underline">
                            Login
                        </span>
                    </a>
                </div>
            </div>

            <!-- Login Button -->
            <div class="flex flex-col lg:flex-row justify-between gap-2 w-full">
                <button type="submit" mat-flat-button class="bg-white flex-1"
                    [disabled]="(loading$$ | async) || !registerForm.valid">
                    <span *ngIf="(loading$$ | async) === false">Register</span>
                    <div *ngIf="loading$$ | async">
                        <mat-spinner color="accent" [diameter]="22"></mat-spinner>
                    </div>
                </button>
            </div>
        </form>
    </div>
</div>